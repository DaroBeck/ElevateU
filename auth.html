<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ElevateU ‚Äì Sign in</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./auth.css" />
</head>

<body>
  <main class="auth">
    <a class="auth-brand" href="./index.html" aria-label="Back to home">
      <img class="auth-logo" src="./assets/elevateu-logo.png" alt="ElevateU logo">
      <span class="auth-brand-text">ElevateU</span>
    </a>

    <section class="auth-card" aria-label="Authentication">
      <div class="auth-tabs" role="tablist" aria-label="Sign in or sign up">
        <button class="auth-tab" id="tabSignIn" type="button" role="tab" aria-controls="panelSignIn">Sign in</button>
        <button class="auth-tab" id="tabSignUp" type="button" role="tab" aria-controls="panelSignUp">Sign up</button>
      </div>

      <h1 class="auth-title" id="authTitle">Welcome back</h1>
      <p class="auth-sub" id="authSub">Sign in using email/password or a provider.</p>

      <!-- SIGN IN -->
      <div id="panelSignIn" role="tabpanel" aria-labelledby="tabSignIn">
        <div class="auth-providers">
          <button class="auth-provider" type="button">Continue with Google</button>
          <button class="auth-provider" type="button">Continue with GitHub</button>
          <button class="auth-provider" type="button">Continue with Apple</button>
          <button class="auth-provider" type="button">Continue with Discord</button>
        </div>

        <div class="auth-divider"><span>or</span></div>

        <form class="auth-form" action="#" method="post" autocomplete="on">
          <label class="auth-label">
            Email
            <input class="auth-input" name="email" type="email" placeholder="you@example.com" required />
          </label>

          <label class="auth-label">
            Password
            <div class="auth-pass">
              <input class="auth-input" id="signinPass" name="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
              <button class="auth-eye" type="button" aria-label="Show password" data-toggle-pass="signinPass">üëÅ</button>
            </div>
          </label>

          <div class="auth-row">
            <label class="auth-check">
              <input type="checkbox" />
              <span>Remember me</span>
            </label>

            <a class="auth-link" href="#">Forgot password?</a>
          </div>

          <button class="auth-submit" type="submit">Sign in</button>
        </form>
      </div>

      <!-- SIGN UP -->
      <div id="panelSignUp" role="tabpanel" aria-labelledby="tabSignUp" hidden>
        <div class="auth-providers">
          <button class="auth-provider" type="button">Continue with Google</button>
          <button class="auth-provider" type="button">Continue with GitHub</button>
          <button class="auth-provider" type="button">Continue with Apple</button>
          <button class="auth-provider" type="button">Continue with Discord</button>
        </div>

        <div class="auth-divider"><span>or</span></div>

        <form class="auth-form" action="#" method="post" autocomplete="on">
          <label class="auth-label">
            Email
            <input class="auth-input" name="email" type="email" placeholder="you@example.com" required />
          </label>

          <label class="auth-label">
            Password
            <div class="auth-pass">
              <input class="auth-input" id="signupPass" name="password" type="password" placeholder="Create a password" required />
              <button class="auth-eye" type="button" aria-label="Show password" data-toggle-pass="signupPass">üëÅ</button>
            </div>
          </label>

          <label class="auth-label">
            Confirm password
            <div class="auth-pass">
              <input class="auth-input" id="signupPass2" name="password2" type="password" placeholder="Repeat your password" required />
              <button class="auth-eye" type="button" aria-label="Show password" data-toggle-pass="signupPass2">üëÅ</button>
            </div>
          </label>

          <label class="auth-check auth-check-wide">
            <input type="checkbox" required />
            <span>I agree to the Terms and Privacy Policy</span>
          </label>

          <button class="auth-submit" type="submit">Create account</button>
        </form>
      </div>

      <p class="auth-foot" id="authFoot">
        New here? Create an account to personalise your learning.
      </p>
    </section>

    <footer class="auth-footer">¬© <span id="year"></span> ElevateU</footer>
  </main>

  <script>
    // year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Tabs + URL mode
    const qs = new URLSearchParams(location.search);
    const initialMode = (qs.get("mode") || "signin").toLowerCase();

    const tabSignIn = document.getElementById("tabSignIn");
    const tabSignUp = document.getElementById("tabSignUp");
    const panelSignIn = document.getElementById("panelSignIn");
    const panelSignUp = document.getElementById("panelSignUp");

    const title = document.getElementById("authTitle");
    const sub = document.getElementById("authSub");
    const foot = document.getElementById("authFoot");

    function setMode(mode){
      const isSignup = mode === "signup";

      tabSignIn.classList.toggle("active", !isSignup);
      tabSignUp.classList.toggle("active", isSignup);

      tabSignIn.setAttribute("aria-selected", String(!isSignup));
      tabSignUp.setAttribute("aria-selected", String(isSignup));

      panelSignIn.toggleAttribute("hidden", isSignup);
      panelSignUp.toggleAttribute("hidden", !isSignup);

      if(isSignup){
        document.title = "ElevateU ‚Äì Sign up";
        title.textContent = "Create your account";
        sub.textContent = "Sign up using email/password or a provider.";
        foot.textContent = "Already have an account? Use Sign in.";
      } else {
        document.title = "ElevateU ‚Äì Sign in";
        title.textContent = "Welcome back";
        sub.textContent = "Sign in using email/password or a provider.";
        foot.textContent = "New here? Create an account to personalise your learning.";
      }

      // Keep URL in sync (no page reload)
      const url = new URL(location.href);
      url.searchParams.set("mode", isSignup ? "signup" : "signin");
      history.replaceState({}, "", url);
    }

    tabSignIn.addEventListener("click", () => setMode("signin"));
    tabSignUp.addEventListener("click", () => setMode("signup"));
    setMode(initialMode === "signup" ? "signup" : "signin");

    // Show/hide password
    document.querySelectorAll("[data-toggle-pass]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-toggle-pass");
        const input = document.getElementById(id);
        if(!input) return;
        input.type = input.type === "password" ? "text" : "password";
      });
    });
  </script>
</body>
</html>
